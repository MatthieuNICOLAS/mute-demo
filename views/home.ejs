<!doctype html>
<html lang="en">
	<head>
		<% include head %>
		<% include css %>
	</head>
	<body>
		<% include menu %>
		<div class="container">
            <div class="row">
            	<div class="col-md-12"> <!-- Main content -->
            		<div class="row"> <!-- Demo -->
            			<h1><strong>Try MUTE, the Multi-User Text Editor</strong></h1>
            			<div class="col-md-10 col-md-offset-1">
	        				<% include editor %>
	        				<br>
	        				<% include awareness %>
        				</div>
            		</div> <!-- End demo -->
            		<hr>
            		<div class="row"> <!-- Additionnal informations -->
            			<div class="col-md-4">
            				<h1><strong>What's MUTE ?</strong></h1>
                            <p class="lead"><strong>MUTE</strong>, which stands for <strong>M</strong>ulti-<strong>U</strong>ser <strong>T</strong>ext <strong>E</strong>ditor, is a open-source Javascript library able to change any textarea into real-time collaborative text editors.</p>
                            <p>Unlike others collaborative text editor, <strong>MUTE</strong> doesn't use an <a href="http://en.wikipedia.org/wiki/Operational_transformation">Operational Transform-based algorithm</a> to resolve conflicts and merge modifications, but works using a <a href="">Conflict-free Replicated Data Types-based implementation</a>. This allows <strong>MUTE</strong> to <strong>manage effectively large text operations</strong> and to <strong>adopt a high scalable architecture</strong></p>
                            <p>This demo works using <a href="http://ace.c9.io/#nav=about">Ace</a> as text editor and implement a centralized network architecture. If you want to implement another text editor or network architecture, you can extend <strong>MUTE</strong> by developping your own modules. See the documentation here.</p>
            			</div>
            			<div class="col-md-4">
            				<% include form-private-doc %>
            			</div>
            			<div class="col-md-4">
            				<% include code %>
            			</div>
            		</div> <!-- End additionnal informations -->
            	</div> <!-- End main content -->
          	</div>
            <hr>
            <% include footer %>
        </div>
		<% include scripts %>
        <% include scripts-editor %>
        <% include notifications %>
		<script>
			"use strict";

            hljs.initHighlightingOnLoad();

            var coordinator = new Mute.Coordinator('<%= docID %>');
            console.log(coordinator);
            var editor = new Mute.AceEditorAdapter('<%= editorID %>', coordinator);
            coordinator.setEditor(editor);
            var network = new Mute.SocketIOAdapter(coordinator);
            coordinator.setNetwork(network);
            var awareness = new AwarenessAdapter(coordinator, $('#<%= awarenessID %>'));

            console.log('docID: <%= docID %>');
        </script>
	</body>
</html>